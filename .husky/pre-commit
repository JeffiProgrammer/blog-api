echo "ğŸ“Œ Running pre-commit hook with Biome..."

# Get staged files
STAGED=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx|js|jsx|json|css|md)$')

if [ -n "$STAGED" ]; then
  echo "âœ¨ Formatting staged files with Biome..."
  npx biome format --write $STAGED

  echo "ğŸ” Linting staged files with Biome..."
  npx biome lint $STAGED

  echo "ğŸ“Œ Re-adding fixed files..."
  git add $STAGED
else
  echo "âœ… No staged files to lint/format."
fi